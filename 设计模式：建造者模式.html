<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="Cache-Control" content="no-siteapp">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1, minimum-scale=1, maximum-scale=1">
<meta name="renderer" content="webkit">
<meta name="google" value="notranslate">
<meta name="robots" content="index,follow">


<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="johnny li博客">
<meta name="twitter:description" content="构建只为纯粹书写的博客">
<meta name="twitter:image:src" content="http://www.igtx.top/images/avatar.png">

<meta property="og:url" content="http://www.igtx.top">
<meta property="og:title" content="johnny li博客">
<meta property="og:description" content="构建只为纯粹书写的博客">
<meta property="og:site_name" content="johnny li博客">
<meta property="og:image" content="http://www.igtx.top/images/avatar.png">
<meta property="og:type" content="website">
<meta name="robots" content="noodp">

<meta itemprop="name" content="johnny li博客">
<meta itemprop="description" content="构建只为纯粹书写的博客">
<meta itemprop="image" content="http://www.igtx.top/images/avatar.png">

<link rel="canonical" href="http://www.igtx.top">

<link rel="shortcut icon" href="/favicon.png?v=2017">
<link rel="apple-itouch-icon" href="/favicon.png?v=2017">
<link rel="stylesheet" href="/bundle/index.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
<script type="text/javascript">
    var timeSinceLang = {
        year: '年前',
        month: '个月前',
        day: '天前',
        hour: '小时前',
        minute: '分钟前',
        second: '秒前'
    };
    var root = '';
</script>


        <meta name="keywords" content="算法,">
        <meta name="description" content="设计模式：建造者模式">
        <meta name="author" content="johnny">
        <title>设计模式：建造者模式</title>
    </head>
    <body>
        <article class="container">
            <header class="header-wrap asset" style="background-image: url(./images/bg1.jpg);">
  <nav class="main-nav">
    
      <a class="blog-logo" href="/"><img class="logo" src="/images/avatar.png" /></a>
    
    <ul class="menu vertical">
        <li class="menu-item"><a href="/archive.html">归档</a></li>
        <li class="menu-item"><a href="/tag.html">标签</a></li>
        <li class="menu-item"><a href="/atom.xml">订阅</a></li>
    </ul>
  </nav>
  <div class="vertical">
    <div class="header-wrap-content inner">
      <h1 class="title">johnny li博客</h1>
      <h2 class="subtitle">构建只为纯粹书写的博客</h2>
    </div>
  </div>
  <a class="scroll-down icon-arrow-left" href="#content" data-offset="-45"><span class="hidden">Scroll Down</span></a>
</header>

            <article class="main article">
                <h1 class="title">设计模式：建造者模式</h1>
                <section class="info">
                    <span class="avatar" style="background-image: url(/images/avatar.png);"></span>
                    <a class="name" href="/about.me.html">johnny</a>
                    
                    <span class="date" data-time="1528788900"><span class="from"></span></span>
                    
                    <span class="tags"><a class="tag" href="/tag/%e7%ae%97%e6%b3%95/index.html">算法</a></span>
                </section>
                <article class="content"><h2>介绍｡◕ᴗ◕｡</h2>

<h3>定义</h3>

<blockquote>
<p>将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示</p>
</blockquote>

<h3>作用</h3>

<p>用户只需要知道建造的类型就可以得到他们，而无需知道具体的建造过程和细节</p>

<h3>解决的问题</h3>

<ul>
<li>方便用户创建复杂的对象（不需要知道实现过程）</li>
<li>代码复用性、封装性（将对象构建过程和细节进行封装、复用</li>
</ul>

<h2>模式说明</h2>

<h3>1.UML类图</h3>

<p><img src="data:image/gif;base64,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" data-src="https://n1image.hjfile.cn/shetuan/2018-06-12-1528795791-509-5685.png" alt="建造者模式" /></p>

<h3>2.实例说明</h3>

<ul>
<li>背景：用户输入不同的类型（1，2，3），输出不同的二维码分享图</li>
<li>图例说明：如下图，穿插了两种产品（<strong>Product</strong>）—— 画直播间图（BaseDrawRoomImage）、画课程图（BaseDrawCourseImage）。两个都是继承自抽象接口AbstractDrawImage(提供画圆形、方形、字符串、计算字符串等通用方法)。
BaseDrawRoomImage（<strong>Builder</strong>）下有具体的DrawLiveRoomImage 1 2 两个实现类（<strong>ContractBuilder</strong>）
BaseDrawCourseImage（<strong>Builder</strong>）下有具体的DrawCourseImage 1 2 两个实现类（<strong>ContractBuilder</strong>）
DrawDetector类(<strong>Director</strong>)为指挥者
<img src="data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nd3d4aGhri4uGlpaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkHAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOw==" data-src="https://n1image.hjfile.cn/shetuan/2018-06-12-1528788783-023-3830.png" alt="图例" /></li>
</ul>

<h4>springboot 源码</h4>

<pre><code class="language-java">public abstract class AbstractDrawShareImage {

    protected static final Logger LOGGER = LoggerFactory.getLogger(AbstractDrawShareImage.class);

    protected BufferedImage baseImage;
    protected Graphics2D g2d;

    /**
     * 画背景
     */
    public void drawBackgroudImage(String baseImagePathName) throws IOException {
        Resource resource = new ClassPathResource(baseImagePathName);
        this.baseImage = ImageIO.read(resource.getInputStream());
        this.g2d = this.baseImage.createGraphics();
    }


    /**
     * 画圆形
     *
     * @param imageUrl
     * @param x
     * @param y
     * @param maxLength
     */
    public void drawCircularImage(String imageUrl, int x, int y, int maxLength) {
        try {
            BufferedImage image = ImageIO.read(new URL(imageUrl));
            this.g2d.drawImage(ImageUtils.convertCircular(image, image.getWidth() &gt; maxLength ? maxLength : image.getWidth()).getScaledInstance(maxLength, maxLength, Image.SCALE_SMOOTH), x, y, null);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    /**
     * 画矩形
     *
     * @param imageUrl
     * @param x
     * @param y
     * @param length
     * @param width
     */
    public void drawRectangle(String imageUrl, int x, int y, int length, int width) {
        BufferedImage image = null;
        try {
            image = ImageIO.read(new URL(imageUrl));
        } catch (IOException e) {
            e.printStackTrace();
        }
        this.g2d.drawImage(image, x, y, width, length, null);
    }
    /**
     * 画字符串
     *
     * @param text
     * @param x
     * @param y
     * @param color
     * @param font
     */
    public void drawString(String text, int x, int y, Color color, Font font) {
        this.g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
        this.g2d.setFont(font);
        this.g2d.setColor(color);
        this.g2d.drawString(text, x, y);
    }

    public int getFontWitch(Font font, int baseWidth, String text) {
        if (StringUtils.isEmpty(text)) {
            return 0;
        }
        // 计算文字长度，计算居中的x点坐标
        return (baseWidth - getWordWidth(font, text)) / 2;
    }

    public int getWordWidth(Font font, String word) {
        if (StringUtils.isEmpty(word)) {
            return 0;
        }
        FontMetrics fm = this.g2d.getFontMetrics(font);
        return fm.stringWidth(word);
    }

}

public abstract class BaseDrawRoomImage extends AbstractDrawShareImage {
    protected int baseWidth = 0;
    protected static final String TIME_TEXT = &quot;邀请卡有效期至&quot;;

    public abstract void drawBackgroudImage() throws IOException;

    /**
     * 画头像
     *
     * @param headUrl
     */
    public abstract void drawHeadImage(String headUrl);
    /**
     * 昵称
     *
     * @param nick
     */
    public abstract void drawNick(String nick);
    /**
     * 画二维码
     *
     * @param qrcodeUrl
     */
    public abstract void drawQrCode(String qrcodeUrl);
    /**
     * 画直播间名称
     *
     * @param roomName
     */
    public abstract void drawLiveRoomName(String roomName);
    /**
     * 画二维码有效日期文字
     *
     * @param expireText
     */
    public abstract void drawDeadline(String expireText);
}


public class DrawLiveRoomImage1 extends BaseDrawRoomImage {
   //具体 override 省略...
}

//具体建造，画头像、二维码、昵称、背景、过期时间
@Component(&quot;DrawLearnImage&quot;)
public  class DrawDerecter {
    private AbstractDrawShareImage drawShareImage;
    public Image drawImage(String headUrl, String nick, String roomName, String qrcodeUrl, String expireText) throws CustomerException {
        if (drawShareImage instanceof BaseDrawRoomImage) {
            BaseDrawRoomImage baseDrawRoomImage1 = (BaseDrawRoomImage) drawShareImage;
            try {
                baseDrawRoomImage1.drawBackgroudImage();
            } catch (Exception e) {
                BusinessException.throwCustomException(BusinessException.DRAW_LEARN_IMAGE_FAILED, &quot;image not fond&quot;);
            }

            baseDrawRoomImage1.drawHeadImage(headUrl);
            baseDrawRoomImage1.drawQrCode(qrcodeUrl);
            baseDrawRoomImage1.drawLiveRoomName(roomName);
            baseDrawRoomImage1.drawNick(nick);
            baseDrawRoomImage1.drawDeadline(expireText);
            baseDrawRoomImage1.g2d.dispose();

            drawShareImage.g2d.dispose();
            return baseDrawRoomImage1.baseImage;
        }

        BusinessException.throwCustomException(BusinessException.DRAW_LEARN_IMAGE_FAILED);
        return null;
    }
}
</code></pre>

<h3>优缺点</h3>

<h4>优点</h4>

<ol>
<li>易于解耦
将产品本身与产品创建过程进行解耦，可以使用相同的创建过程来得到不同的产品。也就说细节依赖抽象。</li>
<li>易于精确控制对象的创建将复杂产品的创建步骤分解在不同的方法中，使得创建过程更加清晰</li>
<li>易于拓展
增加新的具体建造者无需修改原有类库的代码，易于拓展，符合“开闭原则”。
<em>每一个具体建造者都相对独立，而与其他的具体建造者无关，因此可以很方便地替换具体建造者或增加新的具体建造者，用户使用不同的具体建造者即可得到不同的产品对象。</em></li>
</ol>

<h4>缺点</h4>

<ol>
<li>建造者模式所创建的产品一般具有较多的共同点，其组成部分相似；如果产品之间的差异性很大，则不适合使用建造者模式，因此其使用范围受到一定的限制。</li>
<li>如果产品的内部变化复杂，可能会导致需要定义很多具体建造者类来实现这种变化，导致系统变得很庞大。</li>
</ol>

<h3>最佳实践</h3>

<p>当创建复杂对象的算法独立于该对象的组成部分以及他们的装配方式时使用</p>
</article>
                <section class="author">
                    <div class="avatar" style="background-image: url(/images/avatar.png);"></div>
                    <a class="name" href="/about.me.html">johnny</a>
                    <div class="intro">构建只为纯粹书写的博客</div>
                </section>
                <section class="recommend">
                    
                    <section class="nav prev more">
                        
                        <a class="link" href="/%e5%90%8e%e7%ab%af%e5%bc%80%e5%8f%91%e5%b8%b8%e9%97%ae%e9%9d%a2%e8%af%95%e9%a2%98%e9%9b%86.html">上篇文章</a>
                    </section>
                    
                    
                    <section class="nav next more">
                        
                        <a class="link" href="/%e5%90%8e%e7%ab%af%e6%9e%b6%e6%9e%84%e5%b8%88%e6%8a%80%e6%9c%af%e5%9b%be%e8%b0%b1.html">下篇文章</a>
                    </section>
                    
                </section>
                

            </article>
        </article>
        <footer class="footer clearfix">
    <span class="copyright">
        johnny li博客 &copy;
        <script type="text/javascript">
            document.write(new Date().getFullYear());
        </script>
    </span>
    <span class="publish">Powered by <a href="http://www.chole.io/" target="_blank">Ink</a></span>
    <center><a href="https://webscan.360.cn/index/checkwebsite/url/www.igtx.top"><img border="0" src="https://webscan.360.cn/status/pai/hash/455cc148bb50db5747f145b8ae2ad253"/></a></center>
</footer>

        <script src="/bundle/index.js"></script>
    </body>
</html>
